1. Clase base abstracta: ModeloIA
public abstract class ModeloIA {

    protected String nombre;
    protected ParametrosModelo parametros;  // composici√≥n
    protected double precision;

    public ModeloIA(String nombre) {
        this.nombre = nombre;
        this.parametros = new ParametrosModelo(); // COMPOSICI√ìN ‚Üí se crea aqu√≠
        this.precision = 0;
    }

    public String getNombre() {
        return nombre;
    }

    public void modificarParametro(String clave, double valor) {
        parametros.setParametro(clave, valor);
    }

    public abstract void entrenar(Dataset d);

    public abstract double evaluar();

    public void mostrarInfo() {
        System.out.println("Modelo: " + nombre + " | Precisi√≥n: " + precision);
        parametros.mostrar();
    }
}

‚öôÔ∏è 2. Composici√≥n: ParametrosModelo

NO puede existir sin el modelo.

import java.util.HashMap;

class ParametrosModelo {

    private HashMap<String, Double> parametros;

    public ParametrosModelo() {
        parametros = new HashMap<>();
        parametros.put("learning_rate", 0.01);
        parametros.put("epochs", 10.0);
    }

    public void setParametro(String clave, double valor) {
        parametros.put(clave, valor);
    }

    public double getParametro(String clave) {
        return parametros.get(clave);
    }

    public void mostrar() {
        System.out.println("Par√°metros: " + parametros);
    }
}

üî¢ 3. Subclase: ModeloClasificacion
public class ModeloClasificacion extends ModeloIA {

    public ModeloClasificacion(String nombre) {
        super(nombre);
    }

    @Override
    public void entrenar(Dataset d) {
        System.out.println("Entrenando modelo de clasificaci√≥n con dataset: " + d.getNombre());
        precision = Math.random() * 0.4 + 0.6; // precisi√≥n simulada 60%‚Äì100%
    }

    @Override
    public double evaluar() {
        System.out.println("Evaluando modelo de clasificaci√≥n...");
        return precision;
    }
}

üìà 4. Subclase: ModeloRegresion
public class ModeloRegresion extends ModeloIA {

    public ModeloRegresion(String nombre) {
        super(nombre);
    }

    @Override
    public void entrenar(Dataset d) {
        System.out.println("Entrenando modelo de regresi√≥n con dataset: " + d.getNombre());
        precision = Math.random() * 0.3 + 0.5; // precisi√≥n simulada 50%‚Äì80%
    }

    @Override
    public double evaluar() {
        System.out.println("Evaluando modelo de regresi√≥n...");
        return precision;
    }
}

üóÇÔ∏è 5. Clase Dataset
public class Dataset {
    private String nombre;
    private int tama√±o;

    public Dataset(String nombre, int tama√±o) {
        this.nombre = nombre;
        this.tama√±o = tama√±o;
    }

    public String getNombre() {
        return nombre;
    }

    public int getTama√±o() {
        return tama√±o;
    }
}

üèõÔ∏è 6. Agregaci√≥n: RepositorioDatasets
import java.util.ArrayList;

public class RepositorioDatasets {

    private ArrayList<Dataset> datasets;

    public RepositorioDatasets() {
        datasets = new ArrayList<>();
    }

    public void agregarDataset(Dataset d) {
        datasets.add(d);
    }

    public ArrayList<Dataset> getDatasets() {
        return datasets;
    }

    public Dataset buscarDataset(String nombre) {
        for (Dataset d : datasets) {
            if (d.getNombre().equals(nombre)) return d;
        }
        return null;
    }
}

üë®‚Äçüîß 7. Asociaci√≥n: Entrenador

Configura y entrena modelos.

public class Entrenador {

    private String nombre;

    public Entrenador(String nombre) {
        this.nombre = nombre;
    }

    public void configurarModelo(ModeloIA modelo, String parametro, double valor) {
        System.out.println("Entrenador " + nombre + " modifica par√°metro: " + parametro);
        modelo.modificarParametro(parametro, valor);
    }

    public void entrenarModelo(ModeloIA modelo, Dataset d) {
        modelo.entrenar(d);
    }

    public void evaluarModelo(ModeloIA modelo) {
        double p = modelo.evaluar();
        System.out.println("Precisi√≥n obtenida: " + p);
    }
}

üß™ 8. Clase Principal ‚Äì Flujo completo
public class Main {
    public static void main(String[] args) {

        RepositorioDatasets repo = new RepositorioDatasets();
        Entrenador trainer = new Entrenador("Laura");

        // Crear datasets
        Dataset d1 = new Dataset("Im√°genes", 5000);
        Dataset d2 = new Dataset("Ventas", 10000);

        // Agregar al repositorio
        repo.agregarDataset(d1);
        repo.agregarDataset(d2);

        // Crear modelos
        ModeloIA clasif = new ModeloClasificacion("Clasificador X");
        ModeloIA regres = new ModeloRegresion("Regresor Y");

        // Configurar modelos
        trainer.configurarModelo(clasif, "learning_rate", 0.05);
        trainer.configurarModelo(regres, "epochs", 50);

        // Entrenar modelos
        trainer.entrenarModelo(clasif, d1);
        trainer.entrenarModelo(regres, d2);

        // Evaluar modelos
        trainer.evaluarModelo(clasif);
        trainer.evaluarModelo(regres);

        // Mostrar detalles
        clasif.mostrarInfo();
        regres.mostrarInfo();
    }
}
